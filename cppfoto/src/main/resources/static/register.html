<!DOCTYPE html>
<!-- saved from url=(0036)http://www.cppfoto.com/register.aspx -->
<html lang="en"><style lang="en" type="text/css" id="night-mode-pro-style">html {background-color: #FFFFFF !important;} body {background-color: #FFFFFF;}</style><link type="text/css" rel="stylesheet" id="night-mode-pro-link"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">.verify-wrap{width:350px;height:40px;background-color:#e5e5e5;border:1px solid #e0e0e0;margin:5px auto;position:relative}.verify-wrap .drag-btn{position:absolute;left:-1px;top:-1px;width:50px;height:40px;background:#fff url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAiCAYAAAApkEs2AAAA/UlEQVRYhe3XLc9GYBjG8eN6dkdFIQuqoCiCbj6ob2CCIplRaJKqEHT3c/kAz66Xc/fLnvO3UY7N/jNmxDAMF77AQ57iOH53x5/GccTPuyNUcSg1DqXGodQ4lNr/CC3LEsuyaG8mrEKzLEPXdZjnWWszYRXq+z7yPMc0Tej7XnkzYf2Muq6LoiiwrivatsV1XUrby0Mlx3Huu7fvO5qmUd50kL31QgijTdXD+gq/zvNEVVXwPA9pmipvOqxDj+O4Q4IgQJIkypsuq9Bt21DXNaIoug/VzYRVqHw55J0Kw1BrMyHkXyj/3BHiUGocSo1DqXEota8Jvb/18hP16Z7qL3h/w53n4AAAAABJRU5ErkJggg==) no-repeat center center;background-size:100% 100%;z-index:2;cursor:move;}.verify-wrap .suc-drag-btn{background:#fff url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAiCAYAAAApkEs2AAACA0lEQVRYhe2Y2yuDYRzHv7PJYc5zKspYSRMymStXu5NCs5W4csEfwJ+gSA53csg1F4R/gSu0OcWSmNIQkfMcEvu9tdpY79793leo91Nbbft993x6nj2/52kal8v1gX+Ajp4sFstve4jidrsR99sSUlFFlUYVVRpVVGl0SnyJ934VaxczOLpdwd3bufBeWnw+StLrYc1tQ3FqnewxZIk+vz9g7rAHO9dL3z67efXBfTkrPCqymtBqGkaiNoU9FnvpSXJyzx5R8itUQ7WU4cIWnT/qhe9xS3I91VKGC0uUfpPbV4uSajUhQ1CGshxYorRxpGDObECf1Ysm40DM2a+wNhPt7mhUZzvhMI1Aq9HBkFgUUzYSrBkNtiDCkGBES/Eg8pLKwiSdplFB8uRhEzMH3RGzsSC7j9oKe1CT4wi0oEZMeRzITy4XJOM0WkFy2uOE//1O7jA8UWrm1CeJ5dMxlGXYoI/PQrd5AQlavagkZTmwlt4UOHGCnPs9wkw+vl0jSZcWdSZDsz8uas1tD3t99rSL8b0W3Lz4cHy/LrrctYEjlQNr6Y2ptag0NIf10gv/Pvo3akRzlOGe++yTyV4yhAJ9leR6qqUMF7YoXTC6zPPChSMaVEO1ci4lstoTDdxROhE4Fjv/9jUvCIkoISPGv7nhq6JKo4oqjSqqNEIfpf8f/zqf+36643RPeo8AAAAASUVORK5CYII=) no-repeat center center;background-size:100% 100%}.verify-wrap .drag-progress{position:absolute;left:0;top:-1px;height:40px;border-top:1px solid #7ac23c;border-top:1px solid #7ac23c;width:0;background-color:#7ac23c;color:#fff;font-size:18px;text-align:center;line-height:40px}.verify-wrap .fix-tips,.verify-msg{width:100%;position:absolute;right:0;left:1px;height:100%;color:#51555c;z-index:1;line-height:38px;font-size:12px;text-align:center}.verify-wrap .verify-msg{background-color:#7ac23c;color:#fff;display:none}</style>

<title>免费注册-诠摄汇</title>
<link href="css/user.reg.css" rel="stylesheet" type="text/css">
<script src="js/jquery.js" type="text/javascript"></script>
<script src="js/region.js" type="text/javascript"></script>
<script src="js/wdatepicker.js" type="text/javascript"></script><link href="./css/WdatePicker.css" rel="stylesheet" type="text/css">

<script src="js/register.js" type="text/javascript"></script>

<script type="text/javascript">
  // if (device.mobile() || device.tablet()) {
     //  window.location = "RegisterSim.aspx";
  // }
</script>

</head>
<body>
<div class="content">
	<div class="logo">
		<a class="img fl" href="http://www.cppfoto.com/" hidefocus="hidefocus">
			<img src="./images/login_logo.png">
			<span>欢迎注册</span>
		</a>
	</div>
	<form action="" >
		<div class="regist1 content-con">
        <p>
			<strong class="name"></strong>
			注：带<i>*</i> 为必填内容
		</p>
        <p>
			<strong class="name">用户名<i>*</i></strong>
			<input name="username" class="text username" type="text" value="" autofocus="autofocus" placeholder="请输入用户名" maxlength="20">
			<span class="err">请输入用户名</span>
			<span></span>
		</p>
		<p>
			<strong class="name">登录密码<i>*</i></strong>
			<input name="password" class="text pwd" type="password" placeholder="请输入登录密码" maxlength="20">
			<span>6-20位字符，建议由字母、数字和符号两种以上组合</span>
		</p>
		<p>
			<strong class="name">再次输入密码<i>*</i></strong>
			<input class="text confirm" type="password" placeholder="请再次输入密码" maxlength="20">
			<span></span>
		</p>
		<p>
			<strong class="name">邮箱<i>*</i></strong>
			<input name="mail" class="text email" type="text" value="" placeholder="请输入常用邮箱" maxlength="100">
			<span></span>
		</p>
		<p>
			<strong class="name">姓名<i>*</i></strong>
			<input name="name" class="text realname" type="text" value="" placeholder="请输入真实姓名" maxlength="20">
			<span></span>
		</p>
		<p>
			<strong class="name">性别<i>*</i></strong>
            <input id="sex1" type="radio" name="sex" value="男" checked="checked" class="radio sex1"><label for="" style="font-size:14px;">男</label>
            <input id="sex2" type="radio" name="sex" value="女" class="radio sex2"><label for="" style="font-size:14px;">女</label>
			<span></span>
		</p>
		<p>
			<strong class="name">生日<i>*</i></strong>
			<input name="birthday" class="text birth" type="date" value="" placeholder="请输入生日(xx-xx-xx)" maxlength="20" onfocus="WdatePicker()" onclick="WdatePicker()">
			<span></span>
		</p>
		<p>
			<strong class="name">固话<i>&nbsp;</i></strong>
			<input name="fixedPhone" class="text tel" type="text" value="" placeholder="请输入固话" maxlength="20">
			<span></span>
		</p>
		<p>
			<strong class="name">单位或院校<i>*</i></strong>
			<input name="unit" class="text company" type="text" value="" placeholder="请输入工作单位或者所在院校" maxlength="100">
			<span></span>
			
		</p><p style="color:Red; padding-left:0px;display:none;">参加2016“金驹杯”世界大学生摄影展的投稿者请详细填写学生证/研究生证/毕业证号以及就读学校及专业、年级。</p>
		
		<p></p>
		<p>
			<strong class="name">地区<i>*</i></strong>
			<input name="region" class="text" type="text" name="region" placeholder="请输入地区">
			<span></span>
		</p>
		<p>
			<strong class="name">地址<i>*</i></strong>
			<input name="address" class="text address" type="text" value="" placeholder="请输入联系地址" maxlength="100">
			<span></span>
		</p>
		<p>
			<strong class="name">邮编<i>*</i></strong>
			<input name="postcode" class="text postcode" type="text" value="" placeholder="请输入邮编" maxlength="6">
			<span></span>
		</p>
		<p>
			<strong class="name">相机品牌<i>&nbsp;</i></strong>
            <select name="cameraName" id="ddlCanmeraBrand" class="canmerabrand" style="width:268px;">
            <option value="">选择相机品牌</option>
            <option value="佳能">佳能</option>
            <option value="尼康">尼康</option>
            <option value="索尼">索尼</option>
            <option value="富士">富士</option>
            <option value="奥林巴斯">奥林巴斯</option>
            <option value="松下">松下</option>
            <option value="宾得">宾得</option>
            <option value="理光">理光</option>
            <option value="三星">三星</option>
            <option value="适马">适马</option>
            <option value="哈苏">哈苏</option>
            <option value="柯达">柯达</option>
            <option value="柯尼卡美能达">柯尼卡美能达</option>
            <option value="徕卡">徕卡</option>
            <option value="玛米亚">玛米亚</option>
            <option value="卡西欧">卡西欧</option>
            <option value="康泰时">康泰时</option>
            <option value="飞思">飞思</option>
            <option value="禄来">禄来</option>
            <option value="仙娜">仙娜</option>
            <option value="利图">利图</option>
            </select>
			<span></span>
		</p>
		<p>
			<strong class="name">相机型号<i>&nbsp;</i></strong>
			<input name="cameraModel" class="text canmeramodel" type="text" value="" placeholder="请输入相机型号" maxlength="50">
			<span></span>
		</p>
         <p>
			<strong class="name">图片验证码<i>*</i></strong>
			<input class="picVerify text picVcode" type="text" value="" placeholder="请输入图片验证码" maxlength="4">
			<img id="imgVCode" style="border: solid 1px #ddd; margin-left:3px; margin-top:0px; height:40px; width: 120px" align="absmiddle" src="/util/getCodeImg"  onload="$(this).show()">
            <span></span>
		</p>
		<p>
			<strong class="name">手机号<i>*</i></strong>
			<input name="phoneNum" class="text mobile" type="text" value="" placeholder="请输入手机号" maxlength="11">
			<span></span>
		</p>
		<p>
            <strong class="name"><i>&nbsp;</i></strong>
			<input id="agree" type="checkbox" class="agree">
			同意<a href="javascript:;" class="agreement" hidefocus="hidefocus">《用户注册协议》</a>
            <span></span>
		</p>
		<p>
            <span class="warn"></span>
			<input class="btn submit" type="button" value="立即注册">
		</p>
	</div>
	</form>
    <a class="login btn" href="/login.html" hidefocus="hidefocus">已有账号 去登录&gt;&gt;</a>
    <div class="regist3 content-con none">
		<p class="success">恭喜您注册成功！</p>
		<p class="tip"><b class="mes">5</b>秒钟后自动跳转</p>
		<p>
			<a class="btn step3" href="http://www.cppfoto.com/" hidefocus="hidefocus">返回首页</a>
		</p>
	</div>
</div>

<div class="footer">
<div class="bar">
<div class="bg"></div>
<div class="con">
<p class="fl"><a target="_blank" style="text-decoration:none;" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010102001967" hidefocus="hidefocus"><img src="./免费注册-诠摄汇_files/beian.png" style="padding-right:2px;vertical-align:middle;">
<span style="padding-right:20px;color:#939393;">京公网安备 11010102001967号</span> </a></p>
<div class="bar-left fl">
	<p>Copyright @ 2018&nbsp;《中国摄影报》社 &nbsp;京ICP备13041099号-2</p>
</div>
<div class="bar-right">
<a href="http://www.cppfoto.com/help.aspx?help=5" hidefocus="hidefocus">帮助中心</a>
	<a href="http://www.cppfoto.com/about.aspx" hidefocus="hidefocus">关于我们</a>
	<a href="http://www.cppfoto.com/contact.aspx" hidefocus="hidefocus">联系我们</a>
	<a href="http://www.cppfoto.com/cooperation.aspx" hidefocus="hidefocus">合作媒体</a>
	<a href="http://www.cppfoto.com/friend.aspx" hidefocus="hidefocus">友情链接</a>
	<a href="http://www.cppfoto.com/protocol.aspx" hidefocus="hidefocus">服务条款</a>
	
</div>
</div>
</div>
</div>
<script type="text/template" id="jsPop">
<div class="pop">
	<div class="pop-line">
        <table width="100%"><tr><td><h3>会员注册协议</h3></td><td><a href="javascript:void(0)" onclick="pop_close()" id="clossPop"></a></td></tr></table>
	</div>
	<div class="pop-body">
        
	</div>
	<div class="pop-btn">
        <input id="btn_pay_over" type="button" value="同意协议并继续注册" onclick="pop_close();$('.agree').prop('checked',true)" />
	</div>
</div>
</script>


<script src="js/jq-slideVerify.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script type="text/javascript">
    var SlideVerifyPlug = window.slideVerifyPlug;
    var picVerify=false;
    window.slideVerify = new SlideVerifyPlug('#verify-wrap', {
        wrapWidth: '250', //设置 容器的宽度 ，默认为 350 ，也可不用设，你自己css 定义好也可以，插件里面会取一次这个 容器的宽度
        initText: '请按住滑块向右拖动',  //设置  初始的 显示文字
        sucessText: '验证通过', //设置 验证通过 显示的文字
        getSucessState: function (res) {
            $('.cmb').css('display', 'block');
        }
    });

    $(".username").blur(function () {
    	if(this.value){
    		let value=this.value;
			axios.post("/check",{
				username:value
			}).then(function (response) {
				console.log(response.data)
				if(response.data==1){
					$(".username").next().text("用户已存在!");
				}else {
					$(".username").next().text("");
				}
			})
		}
	})

	$("input:last").click(function () {
		let data=new FormData($("form")[0]);
		let isverify=verify(data);
		if(isverify==true){
			axios.post("/reg",data).then(function (response) {
				if (response.data===1){
					//注册成功!
					alert('注册成功!');
					location.href='/login.html';
				}else{
					alert('用户名存在，注册失败!')
				}
			})
		}
	})

	$("#imgVCode").click(function () {
		$(this).attr('src','/util/getCodeImg?tockenId='+Math.random())
	})

	$(".picVerify").blur(function () {
		if($(this).val()){
			axios.get('/util/checkCode?code='+this.value).then(function (res) {
				if(res.data==false){
					alert(res.data)
					$(".picVerify").next().next().text("验证码输入错误!");
					$(".picVerify").next().next().css('color','red');
					picVerify=false;
				}else {
					$(".picVerify").next().next().text("");
					picVerify=true;
				}
			})
		}
	})

	function verify(data){
		let myreg = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
    	if(data.get('username')===''){
			alert('用户名为空!')
		}else if($(".username").next().text()!==''){
    		alert('用户名已存在!')
		}
    	else if(data.get('password')!==$(".confirm").val()){
    		alert('两次输入的密码不一致!')
		}else if(!myreg.test(data.get('mail'))){
    		alert('邮箱格式错误!')
		}else if(data.get('name')===''){
    		alert('姓名不能为空')
		}else if(data.get('birthday')===''){
			alert('生日不能为空')
		}else if(data.get('unit')===''){
			alert('单位或院校不能为空')
		}else if(data.get('region')===''){
			alert('地区不能为空')
		}else if(data.get('address')===''){
			alert('地址不能为空')
		}else if(data.get('postcode')===''){
			alert('邮编不能为空')
		}else if(data.get('phoneNum')===''){
			alert('手机号不能为空')
		}else if(picVerify==false){
    		alert('验证码输入错误!')
		}
    	else if($('.agree')[0].checked==false){
			alert('未勾选用户协议')
		} else {
    		return true;
		}
	}
</script>



</body></html>